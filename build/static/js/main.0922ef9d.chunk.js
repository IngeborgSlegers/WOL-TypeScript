(this["webpackJsonptypescript-react-webpack"]=this["webpackJsonptypescript-react-webpack"]||[]).push([[0],{27:function(e,t,a){e.exports=a(45)},45:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a(18),r=(a(32),a(6)),l=a(7),c=a(9),s=a(8),i=a(10),u=a(51),m=a(52),h=a(53),p=a(12),d=a(15),E=a(46),g=a(47),f=a(48),v=a(49),k=a(50),b=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(d.a)({},a.state,Object(p.a)({},e.target.name,e.target.value)))},a.handleSubmit=function(e){e.preventDefault(),fetch("http://localhost:4000/user/signin",{method:"POST",body:JSON.stringify({user:{email:a.state.email,password:a.state.password}}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a.props.updateToken(e.sessionToken)}))},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement(E.a,{onSubmit:this.handleSubmit},n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"email"},"Email"),n.createElement(v.a,{onChange:this.handleChange,value:this.state.email,type:"email",name:"email",required:!0})),n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"password"},"Password"),n.createElement(v.a,{onChange:this.handleChange,value:this.state.password,name:"password",type:"password"})),n.createElement(k.a,{type:"submit"},"Login"))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={firstName:"",lastName:"",email:"",password:""},a.handleChange=function(e){a.setState(Object(d.a)({},a.state,Object(p.a)({},e.target.name,e.target.value)))},a.handleSubmit=function(e){e.preventDefault(),fetch("http://localhost:4000/user/signup",{method:"POST",body:JSON.stringify({user:{firstName:a.state.firstName,lastName:a.state.lastName,email:a.state.email,password:a.state.password}}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){a.props.updateToken(e.sessionToken)}))},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement(E.a,{onSubmit:this.handleSubmit},n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"firstName"},"First Name"),n.createElement(v.a,{onChange:this.handleChange,value:this.state.firstName,name:"firstName",type:"text"})),n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"lastName"},"Last Name"),n.createElement(v.a,{onChange:this.handleChange,value:this.state.lastName,name:"lastName",type:"text"})),n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"email"},"Email"),n.createElement(v.a,{onChange:this.handleChange,value:this.state.email,type:"email",name:"email",required:!0})),n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"password"},"Password"),n.createElement(v.a,{onChange:this.handleChange,value:this.state.password,name:"password",type:"password"})),n.createElement(k.a,{type:"submit"},"Sign Up"))}}]),t}(n.Component);var O=function(e){var t=e.updateToken;return n.createElement(u.a,{className:"auth-container"},n.createElement(m.a,null,n.createElement(h.a,{md:"6"},n.createElement(y,{updateToken:t})),n.createElement(h.a,{md:"6"},n.createElement(b,{updateToken:t}))))},w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={date:" ",activity:" ",duration:" ",notes:" "},a.handleSubmit=function(e){console.log(e),e.preventDefault(),fetch("http://localhost:4000/log",{method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:a.props.token}),body:JSON.stringify({log:{date:a.state.date,activity:a.state.activity,duration:a.state.duration,notes:a.state.notes}})}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({date:" ",activity:" ",duration:" ",notes:" "}),a.props.fetchWorkouts()}))},a.handleChange=function(e){a.setState(Object(d.a)({},a.state,Object(p.a)({},e.target.name,e.target.value)))},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement("h3",null,"Log a Workout"),n.createElement(E.a,{onSubmit:this.handleSubmit},n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"date"}),n.createElement(v.a,{onChange:this.handleChange,type:"date",name:"date",value:this.state.date})),n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"activity"}),n.createElement(v.a,{onChange:this.handleChange,type:"select",name:"activity",value:this.state.activity},n.createElement("option",null,"Select an activity"),n.createElement("option",{value:"Gardening"},"Gardening"),n.createElement("option",{value:"Horse Riding"},"Horse Riding"),n.createElement("option",{value:"Swimming"},"Swimming"),n.createElement("option",{value:"Walk"},"Walk"),n.createElement("option",{value:"Yoga"},"Yoga"),n.createElement("option",{value:"Other"},"Other"))),n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"duration"}),n.createElement(v.a,{onChange:this.handleChange,type:"text",name:"duration",placeholder:"Time spent in hours or min.",value:this.state.duration})),n.createElement(g.a,null,n.createElement(f.a,{htmlFor:"notes"}),n.createElement(v.a,{onChange:this.handleChange,type:"textarea",name:"notes",placeholder:"Notes",value:this.state.notes})),n.createElement(k.a,{type:"submit"},"Click to Submit")))}}]),t}(n.Component),j=a(54),C=a(55),S=a(56),T=a(57),N=a(58),F=a(16),A=a(17),W=function(e){var t=new Date(e.workout.date);return n.createElement(j.a,null,n.createElement(C.a,null,n.createElement(S.a,null,n.createElement(F.a,{icon:A.a}),Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit"}).format(t)),n.createElement(T.a,null,n.createElement(F.a,{icon:A.b}),e.workout.activity),n.createElement(N.a,null,n.createElement(F.a,{icon:A.d}),e.workout.duration),n.createElement(N.a,null,n.createElement(F.a,{icon:A.c}),e.workout.notes)))},x=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={workouts:[],updateActive:!1,workoutToUpdate:{}},a.fetchWorkouts=function(){var e={"Content-Type":"application/json",Authorization:a.props.token};fetch("http://localhost:4000/log",{method:"GET",headers:e}).then((function(e){return e.json()})).then((function(e){console.log(e.logs),a.setState({workouts:e.logs})}))},a.editUpdateWorkout=function(e){console.log(e),a.setState({workoutToUpdate:e})},a.updateToggle=function(){a.setState({updateActive:!a.state.updateActive})},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchWorkouts()}},{key:"render",value:function(){return n.createElement(u.a,null,n.createElement(m.a,null,n.createElement(h.a,{md:"3"},n.createElement(w,{fetchWorkouts:this.fetchWorkouts,token:this.props.token})),n.createElement(h.a,{md:"9"},this.state.workouts.length>0?this.state.workouts.map((function(e){return n.createElement(W,{key:e.id,workout:e})})):n.createElement("h1",null,"Please log an activity!"))))}}]),t}(n.Component),D=a(59),P=a(60),H=a(61),J=a(64),L=a(62),U=a(63),I=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={isOpen:!1},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement(D.a,{color:"faded",light:!0,expand:"md"},n.createElement(P.a,{href:"/"},"Workout Log"),n.createElement(H.a,{onClick:this.toggle}),n.createElement(J.a,{isOpen:this.state.isOpen,navbar:!0},n.createElement(L.a,{className:"ml-auto",navbar:!0},n.createElement(U.a,null,n.createElement(k.a,{onClick:this.props.clearToken},"Logout")))))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={token:" "},a.clearToken=function(){localStorage.clear(),a.setState({token:" "}),alert("You have successfully logged out!")},a.updateToken=function(e){localStorage.setItem("token",e),a.setState({token:e})},a.protectedViews=function(){return a.state.token===localStorage.getItem("token")?n.createElement(x,{token:a.state.token}):n.createElement(O,{updateToken:a.updateToken})},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement("div",null,n.createElement(I,{clearToken:this.clearToken}),this.protectedViews())}}]),t}(n.Component);o.render(n.createElement(G,null),document.getElementById("example"))}},[[27,1,2]]]);
//# sourceMappingURL=main.0922ef9d.chunk.js.map